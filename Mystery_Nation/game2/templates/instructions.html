{% load static %}
<!DOCTYPE html>
<html lang="en" id="instruct_whole">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Game Instructions</title>
  </head>
  <body id="instruct_body">
    <audio id="click" src="{% static 'audio/mousclick.mp3' %}"></audio>
    <audio id="congrats" src="{% static 'audio/congrats.mp3' %}"></audio>
    <audio id="bell" src="{% static 'audio/bell.mp3' %}"></audio>
    <script>
      function playAudio(audio) {
        if (audio) {
          audio.currentTime = 0; // Reset audio to start if played before
          audio
            .play()
            .catch((error) => console.log("Audio playback error:", error));
        }
      }
      function onWin() {
        playAudio(document.getElementById("congrats"));
      }
      function ringBell() {
        playAudio(document.getElementById("bell"));
      }
      function clickButton() {
        playAudio(document.getElementById("click"));
      }
      function quitit() {
        ringBell();
        setTimeout(() => {
          window.location.href = "/start/"; // Redirect to home page or another destination
        }, 100); // Wait 100ms before redirecting
      }
      function submit() {
        clickButton();
        setTimeout(() => {
          window.location.href = "/game2/"; // Change this to the name of your new HTML file
        }, 1000); // Wait 1000ms before redirecting
      }
    </script>
    <div class="container">
      <div class="instruction">
        <button
          id="instruction-button"
          style="font-size: 35px"
          onclick="toggleInstructions()"
        >
          GAME INSTRUCTIONS
        </button>
        <div id="instruction-content">
          <h2>Game Instructions</h2>
          <p>Welcome to the Ultimate Flag Challenge! Here's how to play:</p>
          <ol>
            <li>
              <strong>Objective:</strong> Name the country as the flag is
              displayed.
            </li>
            <li>
              <strong>Players:</strong> There are two human players and one A.I.
              player. The game is played in turns.
            </li>
            <li><strong>Rounds:</strong> There are 3 rounds in total.</li>
            <li>
              <strong>Scoring:</strong> Players earn 1 point for each correct
              answer.
            </li>
            <li>
              <strong>Filling in Blanks:</strong> You must fill in all blanks to
              submit your answer or speak into the mic.
            </li>
            <li>
              <strong>Hint:</strong> Hover over the country's flag to reveal a
              hint.
            </li>
            <li>
              <strong>Turn Rules:</strong> Player 1 and Player 2 must fill in
              all blanks before submitting their answer.
            </li>
            <li>
              <strong>Computer Guess:</strong> The computer will try to guess
              the country's name based on its stored answer.
            </li>
            <li>
              <strong>End Game:</strong> At the end, you will see the final
              scores for Player 1, Player 2, and the A.I. Player.
            </li>
          </ol>
          <button id="instruction-button-close" onclick="toggleInstructions()">
            Close
          </button>
        </div>
      </div>

      <div class="name-inputs">
        <label for="player1">Player 1</label>
        <input type="text" id="player1" placeholder="Enter name for Player 1" />
        <label for="player2">Player 2</label>
        <input type="text" id="player2" placeholder="Enter name for Player 2" />
      </div>

      <div>
        <button type="submit" class="submit-button" onclick="submit()">
          Submit and PLAY!
        </button>
      </div>
      <div>
        <button type="button" class="quit-button" onclick="quitit()">
          Quit
        </button>
      </div>

      <div>
        <button
          type="button"
          class="instruct-speak"
          onclick="sendVoiceCommand(
           'Welcome to the Ultimate Flag Challenge! Are you ready to test your knowledge and compete against a friend and a super-smart computer? Let’s get started! There are three rounds in total. In each round, a flag will appear on the screen. Your job is to name the country as fast as you can. There are three players in this game: Player One, that’s you. Player Two, your friend. And the A.I. Player, a computer that thinks it knows all the answers. You can answer in two ways: either type the name of the country or say it out loud into the microphone. If you’re stuck, don’t worry! You can hover over the flag to get a hint. For every correct answer, you earn one point. At the end of the game, we’ll add up the scores to see who wins. But here’s an important rule: Both players must enter their answers before submitting. The computer will guess too, so try your best to beat it. Once all three rounds are finished, the final scores will be revealed. Will you be the Ultimate Flag Champion? There’s only one way to find out! Alright, get ready, the game is about to begin!')"
        >
          How To Play
        </button>
      </div>
    </div>
    <link rel="stylesheet" href="{% static 'style.css' %}" />
    <script src="{% static 'logic.js' %}"></script>
  </body>
</html>
