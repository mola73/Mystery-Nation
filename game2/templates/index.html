{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Word Fill Game</title>
    <script src="{% static 'logic.js' %}"></script>
    <link rel="stylesheet" href="{% static 'style.css' %}" />
  </head>

  <body>
    <div class="game-container">
      <img
        id="flag"
        src="{% static 'countries/Japan.jpg' %}"
        alt="Country Flag"
      />
      <audio id="click" src="{% static 'audio/mousclick.mp3' %}"></audio>
      <audio id="congrats" src="{% static 'audio/congrats.mp3' %}"></audio>
      <audio id="bell" src="{% static 'audio/bell.mp3' %}"></audio>
      <script>
        function playAudio(audio) {
          if (audio) {
            audio.currentTime = 0; // Reset audio to start if played before
            audio
              .play()
              .catch((error) => console.log("Audio playback error:", error));
          }
        }
        function onWin() {
          playAudio(document.getElementById("congrats"));
        }
        function ringBell() {
          playAudio(document.getElementById("bell"));
        }
        function clickButton() {
          playAudio(document.getElementById("click"));
        }
        function submitans() {
          clickButton();
          setTimeout(() => {
            checkAnswer();
          }, 1000); // Wait 500ms before redirecting (adjust as needed)
        }
        function toinstruct() {
          clickButton();
          setTimeout(() => {
            window.location.href = "/instructions/";
          }, 1000); // Wait 500ms before redirecting (adjust as needed)
        }
        function tostart() {
          ringBell();
          setTimeout(() => {
            window.location.href = "/start/";
          }, 700); // Wait 500ms before redirecting (adjust as needed)
        }
      </script>

      <div id="word-display" class="word-box"></div>
      <p id="turn-info"></p>
      <p id="message"></p>
      <p id="score">Player 1: 0 | Player 2: 0 | Computer: 0</p>
      <button id="submit-btn" onclick="submitans()">Submit</button>

      <button class="mic-button" id="micBtn">ðŸŽ¤</button>
      <div id="country-info"></div>

      <!-- New Buttons -->
      <div class="button-container">
        <button class="action-button" onclick="tostart()">Quit</button>
        <button class="action-button" onclick="toinstruct()">
          Instructions
        </button>
      </div>
    </div>
  </body>
</html>
