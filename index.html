<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Word Fill Game</title>
<style>
html, body {
height: 100%;
margin: 0;
padding: 0;
}

body {
    font-family: Arial, sans-serif;
    text-align: center;
    background: url('untitled folder/optional.jpg') no-repeat center center fixed; /* Ensure the path is correct */
    background-size: cover; /* This ensures the image covers the entire background */
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 24px;
}


.game-container {
margin-top: 50px;
padding: 30px;
background: rgba(0, 0, 0, 0.7);
display: inline-block;
border-radius: 10px;
}
.word-box { font-size: 36px; margin: 20px; }
input {
width: 50px;
height: 50px;
text-align: center;
font-size: 32px;
text-transform: uppercase;
border: 2px solid white;
background: rgba(255, 255, 255, 0.8);
}
#message { color: yellow; font-weight: bold; font-size: 32px; margin-top: 15px; }
button {
margin-top: 20px;
padding: 15px 30px;
font-size: 26px;
cursor: pointer;
border-radius: 5px;
border: none;
background-color: #ff00dd;
color: white;
}
#flag {
width: 300px;
height: 180px;
margin-top: 10px;
border: 3px solid #fff;
background: rgba(255, 255, 255, 0.3);
cursor: pointer;
position: relative;
}
#turn-info, #score { font-size: 28px; font-weight: bold; margin-top: 20px; }

/* Hover info box */
#country-info {
display: none;
position: absolute;
top: 10px;
left: 50%;
transform: translateX(-50%);
background: rgba(0, 0, 0, 0.8);
color: white;
padding: 10px;
border-radius: 5px;
font-size: 20px;
max-width: 250px;
text-align: center;
}

.letter-box {
    display: inline-block;
    width: 50px;
    height: 50px;
    line-height: 50px;
    text-align: center;
    font-size: 32px;
    font-weight: bold;
    text-transform: uppercase;
    border: 2px solid white;
    background: rgba(255, 255, 255, 0.8);
    margin: 5px;
}

.bold-black {
    font-weight: bold;
    color: black;
}


</style>
</head>
<body>



<div class="game-container">
<img id="flag" src="" alt="Country Flag">
<div id="word-display" class="word-box"></div>
<p id="turn-info"></p>
<p id="message"></p>
<p id="score">Player 1: 0 | Player 2: 0 | Computer: 0</p>
<button id="submit-btn" onclick="checkAnswer()">Submit</button>
<div id="country-info"></div>
</div>

<script>
// Retrieve player names from local storage
const player1Name = localStorage.getItem('player1') || "Player 1";
const player2Name = localStorage.getItem('player2') || "Player 2";


const countryInfo = {
"Antarctica": {
continent: "Continent - It’s a continent itself",
funFact: "The lowest natural temperature ever recorded on Earth was -128.6°F (-89.2°C) at Vostok Station in 1983."
},
"Australia": {
continent: "Continent - It’s a continent itself",
funFact: "The Great Barrier Reef is the largest living structure on Earth and can be seen from space."
},
"United States": {
continent: "Continent - North America",
funFact: "Grand Canyon is located in this country."
},
"Japan": {
continent: "Continent - Asia",
funFact: "This country has more than 5.5 million vending machines, selling everything from drinks to fresh eggs and even umbrellas."
},
"India": {
continent: "Continent - Asia",
funFact: "Aryabhata, the mathematician who invented 0, came from this country."
},
"Argentina": {
continent: "Continent - South America",
funFact: "Birthplace of the tango, a dance that started in the streets of Buenos Aires in the late 19th century."
},
"Russia": {
continent: "Continent - Europe & Asia",
funFact: "Largest country in the world, covering 11 time zones and more than 17 million square kilometres."
},
"Kazakhstan": {
continent: "Continent - Asia",
funFact: "The first human spaceflight by Yuri Gagarin in 1961 launched from the Baikonur Cosmodrome."
},
"Norway": {
continent: "Continent - Europe",
funFact: "It has the world’s longest road tunnel, the Lærdal Tunnel, which stretches 24.5 kilometres (15.2 miles)."
},
"Germany": {
continent: "Continent - Europe",
funFact: "This country is home to the Autobahn, a highway system with sections that have no official speed limit."
},
"Mongolia": {
continent: "Continent - Asia",
funFact: "Least densely populated country in the world, with about 2 people per square kilometre."
},
"Iceland": {
continent: "Continent - Europe",
funFact: "Runs on almost 100% renewable energy, using hydro and geothermal power."
},
"Portugal": {
continent: "Continent - Europe",
funFact: "Cristiano Ronaldo was born in this country."
},
"Canada": {
continent: "Continent - North America",
funFact: "Longest coastline in the world, stretching over 202,080 kilometres and 4th largest country in the world. Maybe you are in this country right now."
},
"Guatemala": {
continent: "Continent - North America",
funFact: "The first chocolate bar was made by the ancient Mayans."
},
"Switzerland": {
continent: "Continent - Europe",
funFact: "Lindt chocolate is a famous chocolate brand from this country."
},
"Tanzania": {
continent: "Continent - Africa",
funFact: "Mount Kilimanjaro (5,895m), the highest peak of the African continent, is located in this country."
},
"Kyrgyzstan": {
continent: "Continent - Asia",
funFact: "The majestic snow leopard is the national animal of this country."
},
"Mexico": {
continent: "Continent - North America",
funFact: "This country's cuisine is on the UNESCO list of Immaterial World Cultural Heritage."
},
"Philippines": {
continent: "Continent - Asia",
funFact: "This country is an archipelago, meaning it's a group of islands, and it has over 7,640 of them."
}
};

let answers = [
"United States", "Japan", "India", "Argentina", "Russia",
"Kazakhstan", "Norway", "Germany", "Mongolia", "Iceland",
"Portugal", "Canada", "Guatemala", "Antarctica", "Australia",
"Switzerland", "Tanzania", "Kyrgyzstan", "Mexico", "Philippines"
];
answers = answers.sort(() => Math.random() - 0.5); // Shuffle countries
const words = answers.map(word => word.replace(/[a-zA-Z]/g, (char, index) => (index % 3 === 0 ? "_" : char)));
let currentRound = 0;
let maxRounds = 9;
let scores = [0, 0, 0];
let currentWord = "";

document.addEventListener("keydown", function(event) {
            if (event.key === "Enter") {
                let activeElement = document.activeElement;
                if (activeElement.tagName === "INPUT") {
                    checkAnswer();
                }
            }
        });


function startRound() {
if (currentRound >= maxRounds) {
document.getElementById("turn-info").innerText = "Game Over! Final Scores.";
document.getElementById("submit-btn").disabled = true;
return;
}
document.getElementById("message").innerText = "";
displayWord();
}



function displayWord() {
    currentWord = words[currentRound].split("");
    let wordDisplay = document.getElementById("word-display");
    wordDisplay.innerHTML = "";
    
    currentWord.forEach((char, i) => {
        if (char === " ") {
            wordDisplay.appendChild(document.createTextNode(" ")); // Keep spaces normal
            return;
        }

        let span = document.createElement("span");
        span.classList.add("letter-box"); // Ensures all letters are boxed

        if (char === "_") {
            let input = document.createElement("input");
            input.type = "text";
            input.maxLength = 1;
            input.dataset.index = i;
            input.addEventListener("input", handleInput);
            span.appendChild(input);
        } else {
            span.innerText = char.toUpperCase(); // Ensures uppercase letters in boxes
            span.classList.add("bold-black"); // Makes pre-filled letters bold and black
        }

        wordDisplay.appendChild(span);
    });

    loadFlag(answers[currentRound]);

    const turnText = currentRound % 3 === 0 ? player1Name : currentRound % 3 === 1 ? player2Name : "Computer";
    document.getElementById("turn-info").innerText = `Turn: ${turnText}`;
    
    if (currentRound % 3 !== 2) {
        document.querySelector("input")?.focus();
    } else {
        setTimeout(computerMove, 2000);
    }
}




function handleInput(event) {
    let input = event.target;
    input.value = input.value.toUpperCase().replace(/[^A-Z]/g, ""); // Only allows letters

    if (input.value.length === 1) {
        let nextBox = input.parentElement.nextElementSibling; // Start with the next sibling

        // Loop until we find the next blank input (skip spaces)
        while (nextBox && (!nextBox.querySelector("input"))) {
            nextBox = nextBox.nextElementSibling;
        }

        if (nextBox && nextBox.querySelector("input")) {
            nextBox.querySelector("input").focus(); // Move cursor to the next blank
        }
    }
}

function checkAnswer() {
    let inputs = document.querySelectorAll("input");
    let userAnswer = words[currentRound];
    let inputValues = Array.from(inputs).map(input => input.value.toUpperCase());
    let filledAnswer = "";
    let inputIndex = 0;

    // Check for empty inputs
    if (inputValues.includes("")) {
        document.getElementById("message").innerText = "Please fill in all blanks to move forward.";
        return; // Exit the function if there are empty inputs
    }

    // Construct the filled answer
    for (let char of userAnswer) {
        if (char === "_") {
            filledAnswer += inputValues[inputIndex] || "_";
            inputIndex++;
        } else {
            filledAnswer += char;
        }
    }

    // Check if the filled answer matches the correct answer
    if (filledAnswer.toUpperCase() === answers[currentRound].toUpperCase()) {
        scores[currentRound % 3]++;
        document.getElementById("message").innerText = "Correct!";
    } else {
        document.getElementById("message").innerText = `Wrong country, but the country is ${answers[currentRound]}`;
    }
    updateScore();
    setTimeout(nextRound, 2000);
}




function computerMove() {
document.getElementById("message").innerText = `Computer guessed: ${answers[currentRound]}`;
setTimeout(() => {
scores[2]++;
updateScore();
nextRound();
}, 2000);
}

function updateScore() {
document.getElementById("score").innerText = `Player 1: ${scores[0]} | Player 2: ${scores[1]} | Computer: ${scores[2]}`;
}

function nextRound() {
currentRound++;
startRound();
}



function loadFlag(country) {
let imageFormats = ["jpg", "jpeg", "png", "webp"];
let folder = "untitled folder/";
let foundImage = false;
for (let format of imageFormats) {
let imgPath = `${folder}${country}.${format}`;
let img = new Image();
img.src = imgPath;
img.onload = function() {
if (!foundImage) {
document.getElementById("flag").src = imgPath;
foundImage = true;
}
};
}
setTimeout(() => {
if (!foundImage) {
document.getElementById("flag").src = "untitled folder/default.jpg";
}
}, 2000);
}

document.getElementById("flag").addEventListener("mouseover", function() {
const country = answers[currentRound];
const infoBox = document.getElementById("country-info");
infoBox.innerHTML = `<strong>${countryInfo[country].continent}</strong><br>${countryInfo[country].funFact}`;
infoBox.style.display = "block";
});

document.getElementById("flag").addEventListener("mouseout", function() {
document.getElementById("country-info").style.display = "none";
});

startRound();
</script>
</body>
</html>


